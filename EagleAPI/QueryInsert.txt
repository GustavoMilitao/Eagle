DECLARE @@@TABLENAME VARCHAR(100) = @tabela
DECLARE @@@FIELDNAME VARCHAR(100)
DECLARE @@@SQLINSERT NVARCHAR(300)
DECLARE @@@SQLINSERTVALUES NVARCHAR(300)

DECLARE CUR1 CURSOR FOR
SELECT COLUMN_NAME
FROM Eagle.INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = @@@TABLENAME
set @@@SQLINSERT = 'INSERT INTO '+@@@TABLENAME +'('
set @@@SQLINSERTVALUES = 'VALUES('

OPEN CUR1

FETCH NEXT FROM CUR1 INTO @@@FIELDNAME

WHILE @@FETCH_STATUS = 0
BEGIN

Set @@@SQLINSERT =
CASE WHEN @@@FIELDNAME <> 'ID' THEN
@@@SQLINSERT + CHAR(13)+CHAR(10) + @@@FIELDNAME+',' 
ELSE @@@SQLINSERT
END

set @@@SQLINSERTVALUES =
CASE WHEN @@@FIELDNAME <> 'ID' THEN
@@@SQLINSERTVALUES+ CHAR(13)+CHAR(10)+ '@'+ @@@FIELDNAME+',' 
ELSE @@@SQLINSERTVALUES
END


FETCH NEXT FROM CUR1 INTO @@@FIELDNAME
END

set @@@SQLINSERTVALUES = LEFT(@@@SQLINSERTVALUES, NULLIF(LEN(@@@SQLINSERTVALUES)-1,-1))
Set @@@SQLINSERT = LEFT(@@@SQLINSERT, NULLIF(LEN(@@@SQLINSERT)-1,-1)) + ')'+ CHAR(13)+CHAR(10)

set @@@SQLINSERTVALUES = @@@SQLINSERTVALUES+')'
CLOSE CUR1
DEALLOCATE CUR1 

SELECT @@@SQLINSERT + @@@SQLINSERTVALUES
